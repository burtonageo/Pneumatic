#
# CSC3223 Graphics for Games
# Coursework 2
# Name: George Burton
# Student Number: 110204567
# File: CMakeLists.txt
#

cmake_minimum_required (VERSION 3.0)

set(PROJECT_NAME pneumatic)
set(CMAKE_MAJOR_VERSION 0)
set(CMAKE_MINOR_VERSION 1)
project(${PROJECT_NAME})

find_package(OpenGL REQUIRED)
find_package(GLEW REQUIRED)

set(SRC_DIR "${PROJECT_SOURCE_DIR}/src")
set(RO_DIR "${SRC_DIR}/render_objects")
set(CORE_DIR "${SRC_DIR}/core")
set(INCLUDE_DIR "${PROJECT_SOURCE_DIR}/include")
set(RO_INCLUDE_DIR "${INCLUDE_DIR}/render_objects")
set(CORE_INCLUDE_DIR "${INCLUDE_DIR}/core")

set(SOIL_DIR "${PROJECT_SOURCE_DIR}/thirdparty/SOIL")
set(SOIL_LINK "SOIL")
set(SOIL_INCLUDE "${SOIL_DIR}/include")

set(GLFW_DIR "${PROJECT_SOURCE_DIR}/thirdparty/glfw")
set(GLFW_LINK "glfw")
set(GLFW_INCLUDE_DIRS "${GLFW_DIR}/include")

set (GLM_INCLUDE_DIRS "${PROJECT_SOURCE_DIR}/thirdparty/glm")

set(SOURCES
	"${SRC_DIR}/Camera.cpp"
	"${SRC_DIR}/Renderer.cpp"
	"${SRC_DIR}/ResourceLoader.cpp"
	"${SRC_DIR}/Window.cpp"
	"${RO_DIR}/Light.cpp"
	"${RO_DIR}/Mesh.cpp"
	"${RO_DIR}/Shader.cpp"
	"${RO_DIR}/Texture.cpp"
	"${RO_DIR}/RenderObject.cpp")

configure_file(
	"${INCLUDE_DIR}/Config.hpp.cmake"
	"${PROJECT_BINARY_DIR}/Config.hpp")

include_directories(
	${SOIL_INCLUDE}
	${SOIL_DIR}
	${SRC_DIR}
	${INCLUDE_DIR}
	${CORE_INCLUDE_DIR}
	${RO_INCLUDE_DIR}
	${PROJECT_BINARY_DIR}
	${OPENGL_INCLUDE_DIRS}
	${GLFW_INCLUDE_DIRS}
	${GLEW_INCLUDE_DIRS}
	${GLU_INCLUDE_DIRS}
	${GLM_INCLUDE_DIRS})

add_subdirectory(${SOIL_DIR})
add_subdirectory(${GLFW_DIR})
link_directories(${SOIL_DIR})
link_directories(${GLFW_DIR})

add_library(${PROJECT_NAME} ${SOURCES})

add_definitions(
	-std=c++1y
	-Wall)

target_link_libraries(${PROJECT_NAME}
	${SOIL_LINK}
	${GLFW_LINK}
	${GLFW_LIBRARIES}
	${OPENGL_LIBRARIES}
	${GLEW_LIBRARIES}
	${GLU_LIBRARIES})
